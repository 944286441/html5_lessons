<!DOCTYPE html >
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>新用户注册页面</title>
		<link type="text/css" rel="stylesheet" href="css/register.css" />
	</head>

	<body>
		<div id="header"><img src="images/register_logo.gif" alt="logo" /></div>
		<div id="main">
			<table width="100%" border="0" cellspacing="0" cellpadding="0">
				<tr>
					<td class="bg bg_top_left"></td>
					<td class="bg_top"></td>
					<td class="bg bg_top_right"></td>
				</tr>
				<tr>
					<td class="bg_left"></td>
					<td class="content">
						<form id="registerForm" action="" method="post" name="myform">
							<dl>
								<dt>通行证用户名：</dt>
								<dd><input type="text" id="userName" class="inputs userWidth" /> @163.com</dd>
								<div id="userNameId"></div>
							</dl>
							<dl>
								<dt>登录密码：</dt>
								<dd><input type="password" id="pwd" class="inputs" /></dd>
								<div id="pwdId"></div>
							</dl>
							<dl>
								<dt>重复登录密码：</dt>
								<dd><input type="password" id="repwd" class="inputs" /></dd>
								<div id="repwdId"></div>
							</dl>
							<dl>
								<dt>性别：</dt>
								<dd><input name="sex" type="radio" value="" checked="checked" />男 <input name="sex" type="radio" value="" />女 </dd>
							</dl>
							<dl>
								<dt>真实姓名：</dt>
								<dd><input type="text" id="realName" class="inputs" /></dd>
							</dl>
							<dl>
								<dt>昵称：</dt>
								<dd><input type="text" id="nickName" class="inputs" /></dd>
								<div id="nickNameId"></div>
							</dl>
							<dl>
								<dt>关联手机号：</dt>
								<dd><input type="text" id="tel" class="inputs" /></dd>
								<div id="telId"></div>
							</dl>
							<dl>
								<dt>保密邮箱：</dt>
								<dd><input type="text" id="email" class="inputs" /></dd>
								<div id="emailId"></div>
							</dl>
							<dl>
								<dt></dt>
								<dd><input name=" " type="image" src="images/button.gif" /></dd>
							</dl>
						</form>
					</td>
					<td class="bg_right"></td>
				</tr>
				<tr>
					<td class="bg bg_end_left"></td>
					<td class="bg_end"></td>
					<td class="bg bg_end_right"></td>
				</tr>
			</table>
		</div>
	</body>
	<script type="text/javascript">
		var form = document.forms.registerForm;

		var userName = document.getElementById("userName");
		var userNameId = document.getElementById('userNameId');

		var pwd = document.getElementById("pwd");
		var pwdId = document.getElementById('pwdId');

		var repwd = document.getElementById("repwd");
		var repwdId = document.getElementById('repwdId');

		var nickName = document.getElementById("nickName");
		var nickNameId = document.getElementById('nickNameId');

		var tel = document.getElementById("tel");
		var telId = document.getElementById('telId');

		var email = document.getElementById("email");
		var emailId = document.getElementById('emailId');
		//验证通行证
		userName.onfocus = function() {
			userNameId.innerHTML = "由字母数字下划线、点、减号组成；以数字、字母开头或结尾、长度为4-18";
		}
		userName.onblur = function() {
			inputCheck(this, /^[0-9a-z]\w{2,18}\w$/gi, '用户名可用！', "通行证用户名不能为空，请输入通行证用户名", userNameId);
		}
		//验证密码
		pwd.onfocus = function() {
			pwdId.innerHTML = '密码长度为6-16';
		}
		pwd.onblur = function() {
			inputCheck(this, /\w{6-16}/, '密码可用', "密码不能为空，请输入密码！", pwdId);
		}
		//验证重复密码
		repwd.onfocus = function() {
			repwdId.innerHTML = "两次密码输入不一致，请重新输入"
		}
		repwd.onblur = function() {
			inputCheck(this, pwd.value, "OK", "重复密码输入有误，请重新输入", repwdId);
		}
		//验证昵称
		nickName.onfocus = function() {
			nickNameId.innerHTML = "包含字母、数字、下划线以及@！#$%*特殊字符；长度为4-20字符";
		}
		nickName.onblur = function() {
			inputCheck(this, /[A-Za-z0-9_@!#$%]{4,20}/, 'OK', '昵称不能为空请输入昵称', nickNameId)
		}
		//验证电话号码
		tel.onfocus = function() {
			telId.innerHTML = '手机号以13，15,18开头，11位组成'
		}
		tel.onblur = function() {
			inputCheck(this, /0?(13|15|18)[0-9]{9}/, 'OK', '关联手机号输入不正确，请重新输入', telId);

		}
		//验证邮箱
		email.onfocus = function() {
			emailId.innerHTML = '请输入您常用的邮箱！';

		}
		email.onblur = function() {
			inputCheck(this, /\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/, 'ok', '保密邮箱格式不正确，请重新输入', emailId);
		}

		function inputCheck(input, regExp, successMsg, failMsg, ele) {
			var userValue = input.value;
			var index = userValue.search(regExp);
			if(index > -1) {
				ele.innerHTML = successMsg;
			} else if(userValue.length == 0) {
				ele.innerHTML = failMsg;
			} else {
				ele.innerHTML = failMsg;
				input.focus(); //让这个input继续获取焦点
			}
		}
	</script>

</html>